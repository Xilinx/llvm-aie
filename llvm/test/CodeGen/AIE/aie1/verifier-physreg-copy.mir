# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
#
# This file is licensed under the Apache License v2.0 with LLVM Exceptions.
# See https://llvm.org/LICENSE.txt for license information.
# SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
#
# (c) Copyright 2023-2024 Advanced Micro Devices, Inc. or its affiliates
# RUN: llc -mtriple=aie -run-pass none -verify-machineinstrs -o - %s | FileCheck %s

# Make sure that we can copy pointer types from/to physical registers,
# without the machine verifier complaining about mismatching copy
# source/destination register sizes
---
name:            verify_physreg_copies
body: |
  bb.0:
    ; CHECK-LABEL: name: verify_physreg_copies
    ; CHECK: [[COPY:%[0-9]+]]:_(p0) = COPY $p0
    ; CHECK-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $sp
    ; CHECK-NEXT: [[COPY2:%[0-9]+]]:_(s20) = COPY $p0
    ; CHECK-NEXT: [[COPY3:%[0-9]+]]:_(p0) = COPY $m0
    ; CHECK-NEXT: [[COPY4:%[0-9]+]]:_(p0) = COPY $cs0
    ; CHECK-NEXT: $p0 = COPY [[COPY]](p0)
    ; CHECK-NEXT: $p1 = COPY [[COPY1]](p0)
    ; CHECK-NEXT: $p2 = COPY [[COPY2]](s20)
    ; CHECK-NEXT: $p3 = COPY [[COPY3]](p0)
    ; CHECK-NEXT: $p4 = COPY [[COPY4]](p0)
    %0:_(p0) = COPY $p0
    %1:_(p0) = COPY $sp
    %2:_(s20) = COPY $p0
    %3:_(p0) = COPY $m0
    %4:_(p0) = COPY $cs0
    $p0 = COPY %0
    $p1 = COPY %1
    $p2 = COPY %2
    $p3 = COPY %3
    $p4 = COPY %4
...
